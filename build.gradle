plugins {
  id 'war'
  id "com.bmuschko.cargo" version "2.7.1"
}

repositories {
  jcenter() 
}

dependencies {
  providedCompile group: 'jakarta.platform', name: 'jakarta.jakartaee-api', version: '8.0.0'
  providedCompile group: 'jakarta.persistence', name: 'jakarta.persistence-api', version: '2.2.3'
}

cargo {
  containerId = 'liberty'

  local {
    installer {
      installUrl = 'https://public.dhe.ibm.com/ibmdl/export/pub/software/openliberty/runtime/release/2020-10-14_1215/openliberty-javaee8-20.0.0.11.zip'
      downloadDir = file("$projectDir/download")
      extractDir = file("$projectDir/extract")
    }
  }
}

cargoRunLocal.dependsOn war
